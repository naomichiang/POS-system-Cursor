<script setup lang="ts">
    import { ref, onMounted, onUnmounted } from 'vue'
    
    const currentDateTime = ref('')
    
    // 1. 在這裡幫 interval 領身分證！
    // 我們先定義它，但不給它值。 window.setInterval 的回傳值在 TS 裡常用 any 或 ReturnType<typeof setInterval>
    let interval: any = null; 

    const dateTime = ref('');
    
    const updateDateTime = () => {
      const now = new Date()
      const year = now.getFullYear()
      const month = String(now.getMonth() + 1).padStart(2, '0')
      const day = String(now.getDate()).padStart(2, '0')
      const hours = String(now.getHours()).padStart(2, '0')
      const minutes = String(now.getMinutes()).padStart(2, '0')
      const weekdays = ['日', '一', '二', '三', '四', '五', '六']
      const weekday = weekdays[now.getDay()]
      
      currentDateTime.value = `${year}-${month}-${day} ${hours}:${minutes} (${weekday})`
    }
    
    onMounted(() => {
      updateDateTime()
      interval = setInterval(updateDateTime, 1000)
    })
    
    onUnmounted(() => {
      clearInterval(interval)
    })
    </script>
    
    <template>
      <div class="flex justify-between items-center bg-ash-900 shadow-lg">
        <div class="flex items-center gap-2">
          <!-- Logo -->
          <div class="flex flex-col justify-center items-center w-[220px] h-[100px] bg-ash-900">
            <img
              src="https://api.builder.io/api/v1/image/assets/TEMP/9b38f6cf2f5dff0e77628af0c4776b2bd83bb61c?width=368"
              alt="NIKUICHI Logo"
              class="w-[184px] h-auto"
            />
          </div>
    
          <!-- Quick Access Buttons -->
          <div class="flex items-center">
            <div class="flex flex-col justify-center items-center w-[116px] h-[100px]">
              <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16.5 27C13.575 27 11.094 25.9815 9.057 23.9445C7.02 21.9075 6.001 19.426 6 16.5V7.5C6 6.675 6.294 5.969 6.882 5.382C7.47 4.795 8.176 4.501 9 4.5H27.75C29.2 4.5 30.4375 5.0125 31.4625 6.0375C32.4875 7.0625 33 8.3 33 9.75C33 11.2 32.4875 12.4375 31.4625 13.4625C30.4375 14.4875 29.2 15 27.75 15H27V16.5C27 19.425 25.9815 21.9065 23.9445 23.9445C21.9075 25.9825 19.426 27.001 16.5 27ZM9 12H24V7.5H9V12ZM27 12H27.75C28.375 12 28.9065 11.7815 29.3445 11.3445C29.7825 10.9075 30.001 10.376 30 9.75C29.999 9.124 29.7805 8.593 29.3445 8.157C28.9085 7.721 28.377 7.502 27.75 7.5H27V12ZM6 31.5V28.5H30V31.5H6Z" fill="#C6D4DF"/>
              </svg>
              <div class="text-ash-200 text-center font-noto text-[22px] font-medium leading-[120%]">快捷 1</div>
            </div>
            <div class="flex flex-col justify-center items-center w-[116px] h-[100px]">
              <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 30C8.575 30 8.219 29.856 7.932 29.568C7.645 29.28 7.501 28.924 7.5 28.5C7.499 28.076 7.643 27.72 7.932 27.432C8.221 27.144 8.577 27 9 27H27C27.425 27 27.7815 27.144 28.0695 27.432C28.3575 27.72 28.501 28.076 28.5 28.5C28.499 28.924 28.355 29.2805 28.068 29.5695C27.781 29.8585 27.425 30.002 27 30H9ZM10.05 24.75C9.325 24.75 8.6815 24.5125 8.1195 24.0375C7.5575 23.5625 7.2135 22.9625 7.0875 22.2375L5.5875 12.7125C5.5375 12.7125 5.4815 12.719 5.4195 12.732C5.3575 12.745 5.301 12.751 5.25 12.75C4.625 12.75 4.094 12.5315 3.657 12.0945C3.22 11.6575 3.001 11.126 3 10.5C2.999 9.874 3.218 9.343 3.657 8.907C4.096 8.471 4.627 8.252 5.25 8.25C5.873 8.248 6.4045 8.467 6.8445 8.907C7.2845 9.347 7.503 9.878 7.5 10.5C7.5 10.675 7.481 10.8375 7.443 10.9875C7.405 11.1375 7.3615 11.275 7.3125 11.4L12 13.5L16.6875 7.0875C16.4125 6.8875 16.1875 6.625 16.0125 6.3C15.8375 5.975 15.75 5.625 15.75 5.25C15.75 4.625 15.969 4.0935 16.407 3.6555C16.845 3.2175 17.376 2.999 18 3C18.624 3.001 19.1555 3.22 19.5945 3.657C20.0335 4.094 20.252 4.625 20.25 5.25C20.25 5.625 20.1625 5.975 19.9875 6.3C19.8125 6.625 19.5875 6.8875 19.3125 7.0875L24 13.5L28.6875 11.4C28.6375 11.275 28.5935 11.1375 28.5555 10.9875C28.5175 10.8375 28.499 10.675 28.5 10.5C28.5 9.875 28.719 9.3435 29.157 8.9055C29.595 8.4675 30.126 8.249 30.75 8.25C31.374 8.251 31.9055 8.47 32.3445 8.907C32.7835 9.344 33.002 9.875 33 10.5C32.998 11.125 32.7795 11.6565 32.3445 12.0945C31.9095 12.5325 31.378 12.751 30.75 12.75C30.7 12.75 30.644 12.744 30.582 12.732C30.52 12.72 30.4635 12.7135 30.4125 12.7125L28.9125 22.2375C28.7875 22.9625 28.444 23.5625 27.882 24.0375C27.32 24.5125 26.676 24.75 25.95 24.75H10.05Z" fill="#C6D4DF"/>
              </svg>
              <div class="text-ash-300 text-center font-noto text-[22px] font-medium leading-[120%]">快捷 2</div>
            </div>
            <div class="flex flex-col justify-center items-center w-[116px] h-[100px]">
              <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16.5 27C13.575 27 11.094 25.9815 9.057 23.9445C7.02 21.9075 6.001 19.426 6 16.5V7.5C6 6.675 6.294 5.969 6.882 5.382C7.47 4.795 8.176 4.501 9 4.5H27.75C29.2 4.5 30.4375 5.0125 31.4625 6.0375C32.4875 7.0625 33 8.3 33 9.75C33 11.2 32.4875 12.4375 31.4625 13.4625C30.4375 14.4875 29.2 15 27.75 15H27V16.5C27 19.425 25.9815 21.9065 23.9445 23.9445C21.9075 25.9825 19.426 27.001 16.5 27ZM9 12H24V7.5H9V12ZM27 12H27.75C28.375 12 28.9065 11.7815 29.3445 11.3445C29.7825 10.9075 30.001 10.376 30 9.75C29.999 9.124 29.7805 8.593 29.3445 8.157C28.9085 7.721 28.377 7.502 27.75 7.5H27V12ZM6 31.5V28.5H30V31.5H6Z" fill="#C6D4DF"/>
              </svg>
              <div class="text-ash-300 text-center font-noto text-[22px] font-medium leading-[120%]">快捷 3</div>
            </div>
            <div class="flex flex-col justify-center items-center w-[116px] h-[100px]">
              <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.1088 3.59998H8.0854C7.97676 3.60227 7.86943 3.62423 7.7686 3.66478C7.62282 3.72249 7.49464 3.8173 7.39676 3.9398C7.29889 4.0623 7.23472 4.20824 7.2106 4.36318C7.1818 4.53238 6.2998 10.071 6.2998 12.6C6.2998 14.31 7.0954 15.8346 8.33381 16.821C8.7838 17.1828 8.9998 17.5752 8.9998 17.9028V18.8028C8.9998 18.8352 8.99801 18.8676 8.99441 18.9C8.94581 19.368 8.7226 21.4722 8.512 23.6358C8.305 25.7688 8.0998 28.0458 8.0998 28.8C8.0998 29.7548 8.47909 30.6704 9.15422 31.3456C9.82935 32.0207 10.745 32.4 11.6998 32.4C12.6546 32.4 13.5703 32.0207 14.2454 31.3456C14.9205 30.6704 15.2998 29.7548 15.2998 28.8C15.2998 28.044 15.0946 25.7688 14.8876 23.6358C14.7337 22.0571 14.5729 20.4791 14.4052 18.9018L14.3998 18.8028V17.9028C14.3998 17.5734 14.6158 17.1828 15.0658 16.821C15.7001 16.3154 16.2123 15.6733 16.5645 14.9426C16.9166 14.2118 17.0996 13.4111 17.0998 12.6C17.0998 10.0656 16.2124 4.50178 16.189 4.36138C16.1625 4.1922 16.0884 4.03409 15.9752 3.9056C15.862 3.77711 15.7145 3.68357 15.55 3.63598C15.4745 3.61388 15.3964 3.60178 15.3178 3.59998H15.2818H15.2836C15.0438 3.60188 14.8144 3.69848 14.6455 3.86875C14.4766 4.03901 14.3818 4.26914 14.3818 4.50898V11.709C14.3843 11.826 14.3637 11.9423 14.3212 12.0514C14.2787 12.1604 14.2152 12.2601 14.1342 12.3445C14.0532 12.429 13.9564 12.4967 13.8492 12.5438C13.7421 12.5909 13.6267 12.6164 13.5097 12.6189C13.3927 12.6214 13.2763 12.6008 13.1673 12.5583C13.0582 12.5158 12.9586 12.4523 12.8741 12.3713C12.7896 12.2903 12.7219 12.1935 12.6749 12.0863C12.6278 11.9792 12.6023 11.8638 12.5998 11.7468V4.49998C12.5998 4.26128 12.505 4.03236 12.3362 3.86358C12.1674 3.6948 11.9385 3.59998 11.6998 3.59998C11.4611 3.59998 11.2322 3.6948 11.0634 3.86358C10.8946 4.03236 10.7998 4.26128 10.7998 4.49998V11.7L10.8016 11.7576C10.7952 11.9939 10.6951 12.218 10.5235 12.3805C10.3518 12.543 10.1226 12.6307 9.8863 12.6243C9.65 12.6178 9.42593 12.5178 9.26339 12.3461C9.10085 12.1745 9.01316 11.9453 9.01961 11.709V4.51078C9.01961 4.26953 8.92389 4.03813 8.75347 3.86738C8.58306 3.69662 8.35005 3.60045 8.1088 3.59998ZM19.7998 11.7C19.7998 9.55172 20.6532 7.49146 22.1722 5.97241C23.6913 4.45337 25.7516 3.59998 27.8998 3.59998C28.1385 3.59998 28.3674 3.6948 28.5362 3.86358C28.705 4.03236 28.7998 4.26128 28.7998 4.49998V17.0604L28.8358 17.4636C28.9761 19.0809 29.1129 20.6985 29.2462 22.3164C29.4694 25.029 29.6998 28.0062 29.6998 28.8C29.6998 29.7548 29.3205 30.6704 28.6454 31.3456C27.9703 32.0207 27.0546 32.4 26.0998 32.4C25.145 32.4 24.2294 32.0207 23.5542 31.3456C22.8791 30.6704 22.4998 29.7548 22.4998 28.8C22.4998 28.008 22.7302 25.029 22.9534 22.3164C23.065 20.9466 23.1784 19.6218 23.263 18.6408L23.317 18H22.4998C21.7837 18 21.097 17.7155 20.5906 17.2092C20.0843 16.7028 19.7998 16.0161 19.7998 15.3V11.7Z" fill="#C6D4DF"/>
              </svg>
              <div class="text-ash-300 text-center font-noto text-[22px] font-medium leading-[120%]">快捷 4</div>
            </div>
          </div>
        </div>
    
        <div class="flex items-center">
          <!-- Notification Icon -->
          <div class="flex flex-col justify-center items-center w-[100px]">
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20.0003 36.6666C19.0837 36.6666 18.2992 36.3405 17.647 35.6883C16.9948 35.0361 16.6681 34.2511 16.667 33.3333H23.3337C23.3337 34.25 23.0076 35.035 22.3553 35.6883C21.7031 36.3416 20.9181 36.6678 20.0003 36.6666ZM8.33366 31.6666C7.86144 31.6666 7.46589 31.5066 7.147 31.1866C6.82811 30.8666 6.66811 30.4711 6.667 30C6.66589 29.5289 6.82589 29.1333 7.147 28.8133C7.46811 28.4933 7.86366 28.3333 8.33366 28.3333H10.0003V16.6666C10.0003 14.3611 10.6948 12.3128 12.0837 10.5217C13.4726 8.73054 15.2781 7.55665 17.5003 6.99998V5.83332C17.5003 5.13887 17.7437 4.54887 18.2303 4.06332C18.717 3.57776 19.307 3.33443 20.0003 3.33332C20.6937 3.33221 21.2842 3.57554 21.772 4.06332C22.2598 4.55109 22.5026 5.14109 22.5003 5.83332V6.37498C22.2226 6.93054 22.0142 7.51387 21.8753 8.12498C21.7364 8.73609 21.667 9.36109 21.667 9.99998C21.667 12.3055 22.4798 14.2711 24.1053 15.8967C25.7309 17.5222 27.6959 18.3344 30.0003 18.3333V28.3333H31.667C32.1392 28.3333 32.5353 28.4933 32.8553 28.8133C33.1753 29.1333 33.3348 29.5289 33.3337 30C33.3326 30.4711 33.1726 30.8672 32.8537 31.1883C32.5348 31.5094 32.1392 31.6689 31.667 31.6666H8.33366ZM30.0003 15C28.6114 15 27.4309 14.5139 26.4587 13.5416C25.4864 12.5694 25.0003 11.3889 25.0003 9.99998C25.0003 8.61109 25.4864 7.43054 26.4587 6.45832C27.4309 5.48609 28.6114 4.99998 30.0003 4.99998C31.3892 4.99998 32.5698 5.48609 33.542 6.45832C34.5142 7.43054 35.0003 8.61109 35.0003 9.99998C35.0003 11.3889 34.5142 12.5694 33.542 13.5416C32.5698 14.5139 31.3892 15 30.0003 15Z" fill="#C6D4DF"/>
            </svg>
          </div>
    
          <!-- DateTime -->
          <div class="flex px-4 justify-end items-center">
            <div class="text-white text-right font-inter text-[22px] font-medium leading-[120%]">
              {{ currentDateTime }}
            </div>
          </div>
    
          <!-- Menu Button -->
          <div class="flex flex-col justify-center items-center w-[100px] h-[100px] bg-ash-800">
            <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8.00001 36C7.43334 36 6.95867 35.808 6.57601 35.424C6.19334 35.04 6.00134 34.5653 6.00001 34C5.99867 33.4347 6.19067 32.96 6.57601 32.576C6.96134 32.192 7.43601 32 8.00001 32H40C40.5667 32 41.042 32.192 41.426 32.576C41.81 32.96 42.0013 33.4347 42 34C41.9987 34.5653 41.8067 35.0407 41.424 35.426C41.0413 35.8113 40.5667 36.0027 40 36H8.00001ZM8.00001 26C7.43334 26 6.95867 25.808 6.57601 25.424C6.19334 25.04 6.00134 24.5653 6.00001 24C5.99867 23.4347 6.19067 22.96 6.57601 22.576C6.96134 22.192 7.43601 22 8.00001 22H40C40.5667 22 41.042 22.192 41.426 22.576C41.81 22.96 42.0013 23.4347 42 24C41.9987 24.5653 41.8067 25.0407 41.424 25.426C41.0413 25.8113 40.5667 26.0027 40 26H8.00001ZM8.00001 16C7.43334 16 6.95867 15.808 6.57601 15.424C6.19334 15.04 6.00134 14.5653 6.00001 14C5.99867 13.4347 6.19067 12.96 6.57601 12.576C6.96134 12.192 7.43601 12 8.00001 12H40C40.5667 12 41.042 12.192 41.426 12.576C41.81 12.96 42.0013 13.4347 42 14C41.9987 14.5653 41.8067 15.0407 41.424 15.426C41.0413 15.8113 40.5667 16.0027 40 16H8.00001Z" fill="white"/>
            </svg>
          </div>
        </div>
      </div>
    </template>

